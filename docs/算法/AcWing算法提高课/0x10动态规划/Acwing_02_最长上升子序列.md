# 最长上升子序列

## [895. 最长上升子序列](https://www.acwing.com/problem/content/897/)

数据规模 $10e3$ ，复杂度 $O(n^2)$ 即可

# 时间复杂度 $O(nlogn)$ 求最长上升子序列

## [896. 最长上升子序列 II](https://www.acwing.com/problem/content/898/)

数据规模 从 1000 上升到了 $10e5$，时间复杂度 $O(n^2)$ 会 $TLE$

思路：贪心，开一个数组 记录最长子序列的 $i$ 位置的最小值。$lower\_bound$ 二分查找 大于等于 $A[i]$ 的第一个位置 ，并将 $A[i]$ 放入此位置；返回数组的最终长度

## [lc300. 最长递增子序列](https://leetcode.cn/problems/longest-increasing-subsequence/)

# 上升子序列和下降子序列

## [1017. 怪盗基德的滑翔翼](https://www.acwing.com/problem/content/1019/)

给定水平方向的 一组建筑的高度，怪盗基德 可以任选一座建筑，向左或向右飞，求最长的滑翔路线

思路：从左到右，求最长上升子序列；从右到左，求最长上升子序列；返回 两个最长上升子序列长度

# 先上升后下降

## [AcWing 1014. 登山 ](https://www.acwing.com/activity/content/problem/content/1260/)

给定山上的一组景点高度 $h_i$，先上山，后下山，一旦选择下山，就不能选择上山，问路过的最多的景点数

思路：从左到右，求最长上升子序列；从右到左，求最长上升子序列；返回 两个最长上升子序列的长度和的最大值

## [482. 合唱队形](https://www.acwing.com/problem/content/484/)

移除多少个元素，能够形成合唱队形

# 将一端从小到大排序，求另一端的最长上升子序列

## [AcWing 1012. 友好城市](https://www.acwing.com/activity/content/problem/content/1262/)

在一条河的 南北两侧 修桥，只能给 互为友好城市的两个城市建桥，桥梁不能相交，问最多 可以修多少座桥。

思路：将友好城市坐标对 按 北边城市 的坐标从小到大排序，求南边城市坐标的最长上升子序列

## [354. 俄罗斯套娃信封问题](https://leetcode.cn/problems/russian-doll-envelopes/)

一堆信封，长宽为 $[w_i, h_i]$，问最多有多少个信封能 装到一起？

思路：将信封长度从小到大排序，求 宽度的最长上升子序列

# 求最少的最长上升子序列的序列个数

俄罗斯套娃问题，再问，最少可以装成 几个信封？

## [1010. 拦截导弹](https://www.acwing.com/problem/content/1012/)

导弹拦截系统 只能拦截 不高于前一发 高度，求一套系统最多拦截多少发导弹，最少需要多少套系统

思路：

求一套系统最多拦截多少发导弹，就是求最长上升子序列的长度

求最少需要多少套系统，贪心思路，开一个数组记录最长上升（或下降）子序列的最后一个元素，返回数组的长度就是 最少的最长上升（或下降）子序列的序列个数

## [AcWing 187. 导弹防御系统](https://www.acwing.com/activity/content/problem/content/1265/)

思路：

**DFS 求最小步数**两种做法：

- 记一个全局最小值

- 迭代加深：dfs 函数有一个变量是 depth 表示 迭代的层数

# 不求上升序列的长度，转而求其他属性，比如最大和

## [1016. 最大上升子序列和](https://www.acwing.com/problem/content/1018/)

求上升序列的最大和

思路：

# $LIS$ 与 $LCS$ 的转化和结合

## [897. 最长公共子序列](https://www.acwing.com/problem/content/899/)

给定两个序列，长度分别为$N、M$，求最长公共子序列；数据范围：$1≤N,M≤1000$

思路：

线性 DP，$f[i][j]$ 表示 序列$s$前$i$个元素 和 序列$t$前$j$个元素的最长 公共子序列的长度。

## [AcWing 3510. 最长公共子序列](https://www.acwing.com/problem/content/3513/)

给定两个长度为 $n$ 的序列$A、B$，求最长公共子序列，保证第一个序列中的所有元素都**不重复**；数据范围：$1≤N,M≤10e6$

思路：

第一个序列中的所有元素都是 不重复的，我们可以定义 $B’$ 为 序列$B$ 中的所有元素在 $A$ 中出现的位置；

则有，$B'$ 的 $LIS$ 同 $A$和 $B$ 的 $LCS$ 是等价的

## [AcWing 272. 最长公共上升子序列](https://www.acwing.com/activity/content/problem/content/1266/)

求两个序列的最长公共上升子序列的长度，$1≤N≤3000$

思路：

$f[i][j]$ 表示 $A(0...i)，B(0...j)$ 且包含 $B[j]$ 的最长公共上升子序列的长度

集合划分：

- 不包含 $A[i]$，此时 $f[i][j] = f[i-1][j]$
- 包含 $A[i]$，此时 $f[i][j] = max(f[i][k]) + 1$，满足 $1<=k<j$ ，$A[i-1] == B[j-1], B[k-1] < B[j-1]$
